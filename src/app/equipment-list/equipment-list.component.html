<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Equipment Management</title>
</head>
<body>
    <header>
        <h1>Welcome Alex! Manage your equipment details</h1>
        <div class="search-add">
            <input type="text" id="search-box" placeholder="Search equipment...">
        </div>
        <button [routerLink]="'/add-equipment'" id="add-button">Add Equipment</button>

        <img src="./../../assets/dp.jpeg" alt="Profile Picture" class="profile-image">
    </header>
    <main>
        
        <section class="filter">
            <h2>Filters</h2>
            <!-- Dropdown Filter -->
            <div class="filter-option">
                <label for="equipment-type">Equipment Type:</label>
                <select id="equipment-type">
                    <option value="all">All</option>
                    <option value="type1">Type 1</option>
                    <option value="type2">Type 2</option>
                    <!-- Add more options as needed -->
                </select>
            </div>
            <!-- Range Slider Filter -->
            <div class="filter-option">
                <label for="maintenance-duration">Maintenance Duration:</label>
                <input type="range" id="maintenance-duration" min="0" max="100" value="0">
            </div>
            <!-- Text Input Filter -->
            <div class="filter-option">
                <label for="equipment-name">Equipment Name:</label>
                <input type="text" id="equipment-name" placeholder="Search by name...">
            </div>
            <!-- Date Range Picker -->
            <div class="filter-option">
                <label for="date-range">Date Range:</label>
                <input type="date" id="start-date" name="start-date">
                <span> to </span>
                <input type="date" id="end-date" name="end-date">
            </div>
            <!-- Number Input Filter -->
            <div class="filter-option">
                <label for="quantity">Quantity:</label>
                <input type="number" id="quantity" name="quantity" min="0" step="1">
            </div>
            <!-- Color Picker Filter -->
            <div class="filter-option">
                <label for="color">Color:</label>
                <input type="color" id="color" name="color">
            </div>
            <!-- Select Multiple Filter -->
            <div class="filter-option">
                <label for="department">Department:</label>
                <select id="department" name="department" multiple>
                    <option value="engineering">Engineering</option>
                    <option value="maintenance">Maintenance</option>
                    <option value="logistics">Logistics</option>
                    <option value="production">Production</option>
                    <option value="quality-assurance">Quality Assurance</option>
                    <option value="research-and-development">Research and Development</option>
                    <option value="sales">Sales</option>
                    <option value="marketing">Marketing</option>
                    <option value="finance">Finance</option>
                    <option value="human-resources">Human Resources</option>
                </select>
            </div>
        </section>
        <section class="alerts">
            <div class="popup" *ngIf="showPopup">
                <div class="popup-content">
                  <p>{{response}}</p>
                  <!-- Add any additional content or styling for your popup -->
                </div>
              </div>
            <h2>Maintenance Alerts</h2>
            <div class="loader" *ngIf="!equipmentList"></div>
            <div class="alert-container" *ngIf="equipmentList.length > 0; else noItem">
                <div *ngFor="let equipment of equipmentList" class="alert">
                    <h3>{{ equipment.name }}</h3>
                    <p><label for="">Due Date: </label> {{ equipment.scheduleMaintainance | date:'dd/MM/yyyy' }}</p>
                    <p><label for="">Action Required: </label> Maintainance</p>
                    <p><label for="">Description: </label> {{equipment.description}}</p>
                    <p><label class="{{getEmailAlertLabel(equipment.emailAlert)}}">{{ getEmailAlertLabel(equipment.emailAlert)}} Priority</label></p>
                    <div class="buttons">
                        <button (click)="sendEmailNotification(equipment.email, 
                        'Maintenance Required', 'Perform maintenance on ' + equipment.name + 
                        ' is due on ' + equipment.scheduleMaintainance)">Send Maintenance</button>
                        <button>Postpone</button>
                    </div>
                </div>
            </div>
            <ng-template #noItem>
                <div class="alert-container">
                    <p style="text-align: center;margin-top: 25%;">No Equipment in the list</p>
                </div>
            </ng-template>
        </section>
    </main>
</body>
</html>
